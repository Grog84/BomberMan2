<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>esLevel</name>
    <events>
        <variable constant="0" name="Players" sid="315580871792889" static="0" type="number">2</variable>
        <variable constant="1" name="BOMB_TIMER" sid="896999325270146" static="0" type="number">3</variable>
        <variable constant="1" name="TILESIZE" sid="290097279039753" static="0" type="number">64</variable>
        <variable constant="1" name="IDLE" sid="284248300624211" static="0" type="number">-1</variable>
        <variable constant="1" name="DIR_RIGHT" sid="330542216745769" static="0" type="number">0</variable>
        <variable constant="1" name="DIR_DOWN" sid="343565552628673" static="0" type="number">90</variable>
        <variable constant="1" name="DIR_LEFT" sid="229633230935444" static="0" type="number">180</variable>
        <variable constant="1" name="DIR_UP" sid="847183276965066" static="0" type="number">270</variable>
        <event-block sid="524840276863689">
            <conditions>
                <condition id="-2" name="On start of layout" sid="194801623004005" type="System" />
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="386260017773375" type="Creep">
                    <param id="0" name="Obstacle">Block</param>
                </action>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="703053009300875" type="Creep">
                    <param id="0" name="Obstacle">eBlock</param>
                </action>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="428284105679028" type="Creep">
                    <param id="0" name="Obstacle">BombBase</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="493511510140881">
                    <conditions>
                        <condition id="-11" name="For Each" sid="501366143798556" type="System">
                            <param id="0" name="Object">Creep</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="663553643397022" type="Function">
                            <param id="0" name="Name">&quot;CreepPickDestination&quot;</param>
                            <param id="1" name="Parameter {n}">Creep.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="593795339929134">
                    <conditions>
                        <condition id="-11" name="For Each" sid="773845069631712" type="System">
                            <param id="0" name="Object">Creep</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="574118764801389" type="Creep">
                            <param id="0" name="Object">CreepSp</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="977836250470329" type="Function">
                            <param id="0" name="Name">&quot;CreepPickDestination&quot;</param>
                            <param id="1" name="Parameter {n}">Creep.UID</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="871448866965039" type="CreepSp">
                            <param id="0" name="Pin to">Creep</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                        <action id="-10" name="Set value" sid="223899308508212" type="Creep">
                            <param id="0" name="Instance variable">SpriteUID</param>
                            <param id="1" name="Value">CreepSp.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="689338654244317">
                    <conditions>
                        <condition id="-11" name="For Each" sid="368994477950358" type="System">
                            <param id="0" name="Object">Player</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="446486495395879" type="Player">
                            <param id="0" name="Object">PlayerSp</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pin" id="0" name="Pin to object" sid="846332775647772" type="PlayerSp">
                            <param id="0" name="Pin to">Player</param>
                            <param id="1" name="Mode">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="873475370454690" type="Player">
                            <param id="0" name="Instance variable">SpriteUID</param>
                            <param id="1" name="Value">PlayerSp.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="849905822516751">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="903900879585849" type="System">
                            <param id="0" name="Variable">Players</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="215762008560925" type="PIcon">
                            <param id="0" name="Instance variable">ID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Set group active" sid="290287540215131" type="System">
                            <param id="0" name="Group name">&quot;Player2Controls&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                        <action id="5" name="Set frame" sid="686749025691226" type="PIcon">
                            <param id="0" name="Frame number">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="154207626981919">
                    <conditions>
                        <condition id="-14" inverted="1" name="Compare variable" sid="743112655614731" type="System">
                            <param id="0" name="Variable">Players</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="177199863208383" type="Player">
                            <param id="0" name="Instance variable">PlayerID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="694074085015327" type="PIcon">
                            <param id="0" name="Instance variable">ID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="656854046560222" type="BaseHud">
                            <param id="0" name="Instance variable">ID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="355224806435700" type="Player" />
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="192576692085875">
            <conditions>
                <condition id="-1" name="Every tick" sid="125490605211496" type="System" />
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="827822017611536" type="Player">
                    <param id="0" name="Instance variable">PositionResidualX</param>
                    <param id="1" name="Value">abs(Self.X - (int(Self.X / TILESIZE) * TILESIZE +32))</param>
                </action>
                <action id="-10" name="Set value" sid="488478058186950" type="Player">
                    <param id="0" name="Instance variable">PositionResidualY</param>
                    <param id="1" name="Value">abs(Self.Y - (int(Self.Y / TILESIZE) * TILESIZE +32))</param>
                </action>
                <action id="-11" name="Add to" sid="431266890367891" type="Bomb">
                    <param id="0" name="Instance variable">Counter</param>
                    <param id="1" name="Value">dt</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="546743000114611">
            <conditions>
                <condition id="-19" name="On destroyed" sid="605090722036305" type="Player" />
                <condition id="-14" name="Pick by unique ID" sid="228269597869544" type="PlayerSp">
                    <param id="0" name="Unique ID">Player.SpriteUID</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="804254281324206" type="PlayerSp" />
            </actions>
        </event-block>
        <event-block sid="459665167166746">
            <conditions>
                <condition id="-19" name="On destroyed" sid="200107659971677" type="Creep" />
                <condition id="-14" name="Pick by unique ID" sid="885626595990277" type="CreepSp">
                    <param id="0" name="Unique ID">Creep.SpriteUID</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="377347090065919" type="CreepSp" />
            </actions>
        </event-block>
        <event-group description="" sid="976339063184736" title="Player1Controls">
            <sub-events>
                <event-block sid="172582655141522">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="642356750573546" type="Player">
                            <param id="0" name="Instance variable">PlayerID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="256255466470197" type="PlayerSp">
                            <param id="0" name="Unique ID">Player.SpriteUID</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="264967427309101" type="Player">
                            <param id="0" name="Instance variable">Listening</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="398620436421176">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="365505857503744" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_RIGHT</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="126119566791077" type="PlayerSp">
                                    <param id="0" name="Animation">&quot;Right&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="906953730045899" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Value">DIR_RIGHT</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="614537066062260" type="Player">
                                    <param id="0" name="Instance variable">Listening</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="418419205942033">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="390857893117526" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_DOWN</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="853599518671869" type="PlayerSp">
                                    <param id="0" name="Animation">&quot;Down&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="109658469356797" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Value">DIR_DOWN</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="751849597855633" type="Player">
                                    <param id="0" name="Instance variable">Listening</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="879619942170387">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="953456669338751" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_LEFT</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="552483276967423" type="PlayerSp">
                                    <param id="0" name="Animation">&quot;Left&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="204524020302851" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Value">DIR_LEFT</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="700099344313110" type="Player">
                                    <param id="0" name="Instance variable">Listening</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="616646270351840">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="400591516302632" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_UP</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="239634426105673" type="PlayerSp">
                                    <param id="0" name="Animation">&quot;Up&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="783720172000430" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Value">DIR_UP</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="824457938976617" type="Player">
                                    <param id="0" name="Instance variable">Listening</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="878510596784443">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="292535278915034" type="Player">
                            <param id="0" name="Instance variable">PlayerID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="287899157880972">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="452580603205126" type="Keyboard">
                                    <param id="0" name="Key">32 (Barra Spaziatrice)</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="876589129593191" type="Player">
                                    <param id="0" name="Instance variable">BombsNbr</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="643791908669168" type="Function">
                                    <param id="0" name="Name">&quot;SpawnBomb&quot;</param>
                                    <param id="1" name="Parameter {n}">Player.UID</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="511500743527341">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="292315162550227" type="Player">
                            <param id="0" name="Instance variable">PlayerID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="952697260285738">
                            <conditions>
                                <condition id="2" name="Key is down" sid="682941278440434" type="Keyboard">
                                    <param id="0" name="Key">68 (D)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="426456001690482" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Value">DIR_RIGHT</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="151877354250715">
                            <conditions>
                                <condition id="2" name="Key is down" sid="516142532124432" type="Keyboard">
                                    <param id="0" name="Key">83 (S)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="961538738010979" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Value">DIR_DOWN</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="628154570982355">
                            <conditions>
                                <condition id="2" name="Key is down" sid="775030990868059" type="Keyboard">
                                    <param id="0" name="Key">65 (A)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="624779820378212" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Value">DIR_LEFT</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="659365668089029">
                            <conditions>
                                <condition id="2" name="Key is down" sid="298483550601057" type="Keyboard">
                                    <param id="0" name="Key">87 (W)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="191645279126423" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Value">DIR_UP</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="768327932451440">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="156825258063479" type="Player">
                            <param id="0" name="Instance variable">PlayerID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="390970848511732" type="Player">
                            <param id="0" name="Instance variable">Direction</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">IDLE</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="727790253244399" type="PlayerSp">
                            <param id="0" name="Unique ID">Player.SpriteUID</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="275499410429571" type="Player">
                            <param id="0" name="Instance variable">Immune</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="796639875432427" type="Player">
                            <param id="0" name="Instance variable">Timer</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="5" name="Set frame" sid="724406215211378" type="PlayerSp">
                            <param id="0" name="Frame number">0</param>
                        </action>
                        <action id="2" name="Stop" sid="997721304998107" type="PlayerSp" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" inactive="1" sid="726217271866722" title="Player2Controls">
            <sub-events>
                <event-block sid="182532894750206">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="876570097634322" type="Player">
                            <param id="0" name="Instance variable">PlayerID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="687127801183915" type="PlayerSp">
                            <param id="0" name="Unique ID">Player.SpriteUID</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="872786448973908" type="Player">
                            <param id="0" name="Instance variable">Listening</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="414274014971321">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="204961281567149" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_RIGHT</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="511836461433495" type="PlayerSp">
                                    <param id="0" name="Animation">&quot;Right&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="408418622440737" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Value">DIR_RIGHT</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="864613101697637" type="Player">
                                    <param id="0" name="Instance variable">Listening</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="164651714334590">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="523235573252806" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_DOWN</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="459401677173520" type="PlayerSp">
                                    <param id="0" name="Animation">&quot;Down&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="945033561682055" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Value">DIR_DOWN</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="705899648085063" type="Player">
                                    <param id="0" name="Instance variable">Listening</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="541428350135512">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="366316448391147" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_LEFT</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="584656612449558" type="PlayerSp">
                                    <param id="0" name="Animation">&quot;Left&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="262450024690377" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Value">DIR_LEFT</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="661256773161343" type="Player">
                                    <param id="0" name="Instance variable">Listening</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="434010513962512">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="186782691779524" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_UP</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="596635344463553" type="PlayerSp">
                                    <param id="0" name="Animation">&quot;Up&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="369188052272010" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Value">DIR_UP</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="684216262394464" type="Player">
                                    <param id="0" name="Instance variable">Listening</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="645910227514995">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="768386671110649" type="Player">
                            <param id="0" name="Instance variable">PlayerID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="499256020867521">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="148787255911984" type="Keyboard">
                                    <param id="0" name="Key">96 (0 (tn))</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="385261188564822" type="Player">
                                    <param id="0" name="Instance variable">BombsNbr</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="354333520449620" type="Function">
                                    <param id="0" name="Name">&quot;SpawnBomb&quot;</param>
                                    <param id="1" name="Parameter {n}">Player.UID</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="715279856680580">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="949398641452218" type="Player">
                            <param id="0" name="Instance variable">PlayerID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="842966684401380">
                            <conditions>
                                <condition id="2" name="Key is down" sid="211078922893326" type="Keyboard">
                                    <param id="0" name="Key">39 (Right arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="999468666326215" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Value">DIR_RIGHT</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="964014901094477">
                            <conditions>
                                <condition id="2" name="Key is down" sid="582586412979654" type="Keyboard">
                                    <param id="0" name="Key">40 (Down arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="696481490347221" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Value">DIR_DOWN</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="697990081984547">
                            <conditions>
                                <condition id="2" name="Key is down" sid="156656380678348" type="Keyboard">
                                    <param id="0" name="Key">37 (Left arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="597421044872905" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Value">DIR_LEFT</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="521043098605037">
                            <conditions>
                                <condition id="2" name="Key is down" sid="561254142795307" type="Keyboard">
                                    <param id="0" name="Key">38 (Up arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="541824417758172" type="Player">
                                    <param id="0" name="Instance variable">NextDirection</param>
                                    <param id="1" name="Value">DIR_UP</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="416292393310160">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="290869996455281" type="Player">
                            <param id="0" name="Instance variable">PlayerID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">2</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="796297324810241" type="Player">
                            <param id="0" name="Instance variable">Direction</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">IDLE</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="526025755207861" type="PlayerSp">
                            <param id="0" name="Unique ID">Player.SpriteUID</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="596543179945617" type="Player">
                            <param id="0" name="Instance variable">Immune</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="686740235858929" type="Player">
                            <param id="0" name="Instance variable">Timer</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="5" name="Set frame" sid="410530254525286" type="PlayerSp">
                            <param id="0" name="Frame number">0</param>
                        </action>
                        <action id="2" name="Stop" sid="110176121869453" type="PlayerSp" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="337188957500482" title="BombersMovements">
            <sub-events>
                <event-block sid="640323559807199">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="736868954184286" type="Player">
                            <param id="0" name="Instance variable">Direction</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">IDLE</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="301506210574468" type="Player">
                            <param id="0" name="Instance variable">Timer</param>
                            <param id="1" name="Value">dt</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="412962620154291">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="274727145059385" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_RIGHT</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-1" name="Set X" sid="787474605872667" type="Player">
                                    <param id="0" name="X">Self.X + Self.Speed * dt</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="929814501173500">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="704325030497041" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_DOWN</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-2" name="Set Y" sid="921346467129801" type="Player">
                                    <param id="0" name="Y">Self.Y + Self.Speed * dt</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="497192754814095">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="502222045288648" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_LEFT</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-1" name="Set X" sid="313062469334966" type="Player">
                                    <param id="0" name="X">Self.X - Self.Speed * dt</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="862232224468951">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="869233463217679" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_UP</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-2" name="Set Y" sid="286511239743376" type="Player">
                                    <param id="0" name="Y">Self.Y - Self.Speed * dt</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="423403858371098">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="312590147878947" type="Player">
                            <param id="0" name="Instance variable">Timer</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">Self.MoveTime</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="298531234400849" type="Player">
                            <param id="0" name="X">int(Self.X / TILESIZE) * TILESIZE + 32</param>
                            <param id="1" name="Y">int(Self.Y / TILESIZE) * TILESIZE + 32</param>
                        </action>
                        <action id="-10" name="Set value" sid="434714374912280" type="Player">
                            <param id="0" name="Instance variable">Direction</param>
                            <param id="1" name="Value">IDLE</param>
                        </action>
                        <action id="-10" name="Set value" sid="862728591572364" type="Player">
                            <param id="0" name="Instance variable">NextDirection</param>
                            <param id="1" name="Value">IDLE</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="324185047602484">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="290340071292705" type="Player">
                            <param id="0" name="Instance variable">PositionResidualX</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">3</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="234428422581113" type="Player">
                            <param id="0" name="Instance variable">PositionResidualY</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">3</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="674752804470311" type="Player">
                            <param id="0" name="Instance variable">Immune</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="689497670237286" type="Player">
                            <param id="0" name="Instance variable">Listening</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block any="1" sid="913184828039323">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="533130845630865" type="Player">
                            <param id="0" name="Object">Block</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="379508389921453" type="Player">
                            <param id="0" name="Object">eBlock</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="483829812448012" type="Player">
                            <param id="0" name="Instance variable">Direction</param>
                            <param id="1" name="Value">IDLE</param>
                        </action>
                        <action id="-10" name="Set value" sid="709224527662834" type="Player">
                            <param id="0" name="Instance variable">NextDirection</param>
                            <param id="1" name="Value">IDLE</param>
                        </action>
                        <action id="-3" name="Set position" sid="261961484476474" type="Player">
                            <param id="0" name="X">int(Self.X/TILESIZE)*TILESIZE + 32</param>
                            <param id="1" name="Y">int(Self.Y/TILESIZE)*TILESIZE + 32</param>
                        </action>
                        <action id="-10" name="Set value" sid="952923051854135" type="Player">
                            <param id="0" name="Instance variable">Timer</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="506524766462251">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="127719037115434" type="Player">
                            <param id="0" name="Object">BombBase</param>
                        </condition>
                        <condition behavior="Solid" id="0" name="Is enabled" sid="161058895854527" type="BombBase" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="278722657160648" type="Player">
                            <param id="0" name="Instance variable">Direction</param>
                            <param id="1" name="Value">IDLE</param>
                        </action>
                        <action id="-3" name="Set position" sid="436218207104682" type="Player">
                            <param id="0" name="X">int(Self.X/TILESIZE)*TILESIZE + 32</param>
                            <param id="1" name="Y">int(Self.Y/TILESIZE)*TILESIZE + 32</param>
                        </action>
                        <action id="-10" name="Set value" sid="365928843646982" type="Player">
                            <param id="0" name="Instance variable">Timer</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="547904249363612">
                    <conditions>
                        <condition id="-11" name="For Each" sid="664364562112365" type="System">
                            <param id="0" name="Object">Player</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="709166818916378">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="144637997922525" type="Player">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition id="-14" name="Pick by unique ID" sid="737111542560696" type="PlayerSp">
                                    <param id="0" name="Unique ID">Player.SpriteUID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="884022957294993" type="Function">
                                    <param id="0" name="Name">&quot;StartDeathAnimation&quot;</param>
                                    <param id="1" name="Parameter {n}">Player.UID{###}PlayerSp.UID</param>
                                </action>
                                <action behavior="Flash" id="0" name="Flash" sid="987159579236987" type="PlayerSp">
                                    <param id="0" name="&apos;On&apos; time">0.1</param>
                                    <param id="1" name="&apos;Off&apos; time">0.1</param>
                                    <param id="2" name="Duration">2.0</param>
                                </action>
                                <action id="-16" name="Wait" sid="784060083977220" type="System">
                                    <param id="0" name="Seconds">2.0</param>
                                </action>
                                <action id="-9" name="Destroy" sid="206668511753464" type="Player" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="706742812984639" title="Bombs">
            <sub-events>
                <event-block sid="619646314235224">
                    <conditions>
                        <condition id="0" name="On function" sid="772373030528189" type="Function">
                            <param id="0" name="Name">&quot;CreateExplosions&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="691985083331660">
                            <conditions>
                                <condition id="-10" name="For" sid="730913744564740" type="System">
                                    <param id="0" name="Name">&quot;Range&quot;</param>
                                    <param id="1" name="Start index">1</param>
                                    <param id="2" name="End index">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="174227597282984" type="System">
                                    <param id="0" name="Object to create">Flame</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="X">Bomb.X + (Function.Param(1) * loopindex(&quot;Range&quot;))</param>
                                    <param id="3" name="Y">Bomb.Y + (Function.Param(2) * loopindex(&quot;Range&quot;))</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="776960504929419">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="730624306964896" type="Flame">
                                            <param id="0" name="Object">Block</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Destroy" sid="921694899175114" type="Flame" />
                                        <action id="-24" name="Stop loop" sid="988729686562517" type="System" />
                                    </actions>
                                </event-block>
                                <event-block sid="464664504873283">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="330205415135959" type="Flame">
                                            <param id="0" name="Object">eBlock</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-24" name="Stop loop" sid="532241496922374" type="System" />
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="356365140272109">
                    <conditions>
                        <condition id="0" name="On function" sid="133945324841830" type="Function">
                            <param id="0" name="Name">&quot;SpawnBomb&quot;</param>
                        </condition>
                        <condition id="1" inverted="1" name="Is overlapping another object" sid="353744777772137" type="Player">
                            <param id="0" name="Object">BombBase</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="266122277868336" type="Player">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="803724454386788" type="System">
                            <param id="0" name="Object to create">Bomb</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="X">int(Player.X/TILESIZE)*TILESIZE + 32</param>
                            <param id="3" name="Y">int(Player.Y/TILESIZE)*TILESIZE + 32</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="171993500413947" type="Bomb">
                            <param id="0" name="Object">BombBase</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="-10" name="Set value" sid="334920536065910" type="Bomb">
                            <param id="0" name="Instance variable">BaseUID</param>
                            <param id="1" name="Value">BombBase.UID</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="138264096205913" type="Player">
                            <param id="0" name="Instance variable">BombsNbr</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="429310686511866" type="Bomb">
                            <param id="0" name="Instance variable">Range</param>
                            <param id="1" name="Value">Player.BombsRange</param>
                        </action>
                        <action id="-10" name="Set value" sid="267590661896166" type="Bomb">
                            <param id="0" name="Instance variable">PlayerUID</param>
                            <param id="1" name="Value">Player.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="888063344382971">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="286627737382646" type="Bomb">
                            <param id="0" name="Instance variable">Counter</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">BOMB_TIMER</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="582473909237323" type="Bomb">
                            <param id="0" name="Object">Flame</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="650856031414539">
                            <conditions>
                                <condition id="-10" name="For" sid="736395563398743" type="System">
                                    <param id="0" name="Name">&quot;FlameDirection&quot;</param>
                                    <param id="1" name="Start index">1</param>
                                    <param id="2" name="End index">4</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="452111100231578">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="607277273807644" type="System">
                                            <param id="0" name="First value">loopindex(&quot;FlameDirection&quot;)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="130217388579309" type="Function">
                                            <param id="0" name="Name">&quot;CreateExplosions&quot;</param>
                                            <param id="1" name="Parameter {n}">Bomb.Range{###}TILESIZE{###}0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="597886490922375">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="217749915834234" type="System">
                                            <param id="0" name="First value">loopindex(&quot;FlameDirection&quot;)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="111698424996181" type="Function">
                                            <param id="0" name="Name">&quot;CreateExplosions&quot;</param>
                                            <param id="1" name="Parameter {n}">Bomb.Range{###}0{###}TILESIZE</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="541995358100957">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="284652590891929" type="System">
                                            <param id="0" name="First value">loopindex(&quot;FlameDirection&quot;)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">3</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="721975156872633" type="Function">
                                            <param id="0" name="Name">&quot;CreateExplosions&quot;</param>
                                            <param id="1" name="Parameter {n}">Bomb.Range{###}-TILESIZE{###}0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="681803094974320">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="158828851574458" type="System">
                                            <param id="0" name="First value">loopindex(&quot;FlameDirection&quot;)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">4</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="580750899666848" type="Function">
                                            <param id="0" name="Name">&quot;CreateExplosions&quot;</param>
                                            <param id="1" name="Parameter {n}">Bomb.Range{###}0{###}-TILESIZE</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="561393395634516">
                            <conditions />
                            <actions>
                                <action id="-9" name="Destroy" sid="976392309072586" type="Bomb" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="326294699919401">
                    <conditions>
                        <condition id="-19" name="On destroyed" sid="765598529143826" type="Bomb" />
                        <condition id="-14" name="Pick by unique ID" sid="543482697531115" type="Player">
                            <param id="0" name="Unique ID">Bomb.PlayerUID</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="833723606262182" type="BombBase">
                            <param id="0" name="Unique ID">Bomb.BaseUID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="823697961272742" type="Player">
                            <param id="0" name="Instance variable">BombsNbr</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-9" name="Destroy" sid="887179815906680" type="BombBase" />
                    </actions>
                </event-block>
                <event-block sid="484363237216876">
                    <conditions>
                        <condition id="-11" name="For Each" sid="863620672133560" type="System">
                            <param id="0" name="Object">BombBase</param>
                        </condition>
                        <condition id="1" inverted="1" name="Is overlapping another object" sid="876729920325373" type="BombBase">
                            <param id="0" name="Object">Player</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="796410679816670" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="869882893419060">
                            <conditions />
                            <actions>
                                <action behavior="Solid" id="0" name="Set enabled" sid="666587781629579" type="BombBase">
                                    <param id="0" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="644044101622650">
                            <conditions>
                                <condition id="-11" name="For Each" sid="841983590923742" type="System">
                                    <param id="0" name="Object">Creep</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="195845146191822" type="Function">
                                    <param id="0" name="Name">&quot;CreepRegenMap&quot;</param>
                                    <param id="1" name="Parameter {n}">Creep.UID</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="164109153564921" title="Explosions">
            <sub-events>
                <event-block sid="731471979213144">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="853066304798585" type="Flame">
                            <param id="0" name="Object">eBlock</param>
                        </condition>
                        <condition id="-10" name="Compare opacity" sid="130281979955887" type="Flame">
                            <param id="0" name="Comparison">3</param>
                            <param id="1" name="Opacity">10</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="979493263338846" type="eBlock" />
                    </actions>
                </event-block>
                <event-block sid="698339193728342">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="275819525295866" type="Flame">
                            <param id="0" name="Object">Bomb</param>
                        </condition>
                        <condition id="-10" name="Compare opacity" sid="838930794631901" type="Flame">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Opacity">50</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="661085150704641" type="Bomb">
                            <param id="0" name="Instance variable">Counter</param>
                            <param id="1" name="Value">BOMB_TIMER</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="909530745907115">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="554070790414562" type="Flame">
                            <param id="0" name="Object">Creep</param>
                        </condition>
                        <condition id="-10" name="Compare opacity" sid="718411279161325" type="Flame">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Opacity">50</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="172748430969923" type="Creep" />
                    </actions>
                </event-block>
                <event-block sid="452422598362750">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="567430798456248" type="Flame">
                            <param id="0" name="Object">Powerup</param>
                        </condition>
                        <condition id="-10" name="Compare opacity" sid="724381286712989" type="Flame">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Opacity">80</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="814168707179720" type="Powerup" />
                    </actions>
                </event-block>
                <event-block sid="463215367210096">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="473465612604585" type="Flame">
                            <param id="0" name="Object">Player</param>
                        </condition>
                        <condition id="-10" name="Compare opacity" sid="363727444910815" type="Flame">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Opacity">50</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="635489430330766" type="Player">
                            <param id="0" name="Instance variable">Immune</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="559510294042430" type="Player">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="0" name="Call function" sid="338342032187152" type="Function">
                            <param id="0" name="Name">&quot;StartDeathAnimation&quot;</param>
                            <param id="1" name="Parameter {n}">Player.UID{###}Player.SpriteUID</param>
                        </action>
                        <action id="-16" name="Wait" sid="722287463115266" type="System">
                            <param id="0" name="Seconds">2.0</param>
                        </action>
                        <action id="0" name="Call function" sid="146082441146450" type="Function">
                            <param id="0" name="Name">&quot;MoveToInitialPosition&quot;</param>
                            <param id="1" name="Parameter {n}">Player.UID{###}Player.SpriteUID</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="181470478626969" title="PowerUp">
            <sub-events>
                <event-block sid="763395387845509">
                    <conditions>
                        <condition id="-19" name="On destroyed" sid="449357842967646" type="eBlock" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="Randomvar" sid="525381745757795" static="0" type="number">0</variable>
                        <event-block sid="425998827974209">
                            <conditions />
                            <actions>
                                <action id="-9" name="Set value" sid="598737407892071" type="System">
                                    <param id="0" name="Variable">Randomvar</param>
                                    <param id="1" name="Value">int(random(3))</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="716782481000908">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="181966606437071" type="System">
                                    <param id="0" name="Variable">Randomvar</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="931467064984678" type="eBlock">
                                    <param id="0" name="Object">Powerup</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="5" name="Set frame" sid="334313231308201" type="Powerup">
                                    <param id="0" name="Frame number">int(random(Powerup.AnimationFrameCount))</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="541717950464260">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="217170625191389" type="Powerup">
                            <param id="0" name="Object">Player</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="970571507354695">
                            <conditions>
                                <condition id="3" name="Compare frame" sid="423534502567330" type="Powerup">
                                    <param id="0" name="Comparison">0</param>
                                    <param id="1" name="Number">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Add to" sid="385474321858803" type="Player">
                                    <param id="0" name="Instance variable">BombsNbr</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="473903920663641">
                            <conditions>
                                <condition id="3" name="Compare frame" sid="167134598252119" type="Powerup">
                                    <param id="0" name="Comparison">0</param>
                                    <param id="1" name="Number">1</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="198497776643366" type="Player">
                                    <param id="0" name="Instance variable">BombsRange</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Value">6</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Add to" sid="405764389364635" type="Player">
                                    <param id="0" name="Instance variable">BombsRange</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="969103057433528">
                            <conditions>
                                <condition id="3" name="Compare frame" sid="365357271476236" type="Powerup">
                                    <param id="0" name="Comparison">0</param>
                                    <param id="1" name="Number">2</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="822101829468007" type="Player">
                                    <param id="0" name="Instance variable">Speed</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">256</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Add to" sid="900781118482410" type="Player">
                                    <param id="0" name="Instance variable">Speed</param>
                                    <param id="1" name="Value">20</param>
                                </action>
                                <action id="-10" name="Set value" sid="892412921363117" type="Player">
                                    <param id="0" name="Instance variable">MoveTime</param>
                                    <param id="1" name="Value">TILESIZE / Self.Speed</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="538224414821693">
                            <conditions />
                            <actions>
                                <action id="-9" name="Destroy" sid="317233480299461" type="Powerup" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="488318843851816" title="Creep">
            <sub-events>
                <event-block sid="647062160444376">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="702904282297355" type="Creep">
                            <param id="0" name="Object">PlayerSp</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="343080082345460" type="Player">
                            <param id="0" name="Unique ID">PlayerSp.Pin.PinnedUID</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="240424414500887" type="Player">
                            <param id="0" name="Instance variable">Immune</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="619895166918495" type="Player">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="708028412286367">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="313569809806097" type="Player">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="220088709048876" type="Function">
                                    <param id="0" name="Name">&quot;StartDeathAnimation&quot;</param>
                                    <param id="1" name="Parameter {n}">Player.UID{###}PlayerSp.UID</param>
                                </action>
                                <action id="-16" name="Wait" sid="591169034646415" type="System">
                                    <param id="0" name="Seconds">2.0</param>
                                </action>
                                <action id="0" name="Call function" sid="749732883575807" type="Function">
                                    <param id="0" name="Name">&quot;MoveToInitialPosition&quot;</param>
                                    <param id="1" name="Parameter {n}">Player.UID{###}PlayerSp.UID</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="863059009379857">
                    <conditions>
                        <condition id="0" name="On function" sid="391246110693719" type="Function">
                            <param id="0" name="Name">&quot;CreepPickDestination&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="676297653585687">
                            <conditions>
                                <condition id="-16" name="Pick random instance" sid="216378469774148" type="System">
                                    <param id="0" name="Object">Destination</param>
                                </condition>
                                <condition id="-14" name="Pick by unique ID" sid="172433302188425" type="Creep">
                                    <param id="0" name="Unique ID">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="4" name="Regenerate obstacle map" sid="635966186706488" type="Creep" />
                                <action behavior="Pathfinding" id="0" name="Find path" sid="332434531262729" type="Creep">
                                    <param id="0" name="X">Destination.X</param>
                                    <param id="1" name="Y">Destination.Y</param>
                                </action>
                                <action id="-10" name="Set value" sid="132860844858967" type="Creep">
                                    <param id="0" name="Instance variable">CurrentDestX</param>
                                    <param id="1" name="Value">Destination.X</param>
                                </action>
                                <action id="-10" name="Set value" sid="639382154177685" type="Creep">
                                    <param id="0" name="Instance variable">CurrentDestY</param>
                                    <param id="1" name="Value">Destination.Y</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="112534395771692">
                    <conditions>
                        <condition id="0" name="On function" sid="988238312385564" type="Function">
                            <param id="0" name="Name">&quot;CreepRegenMap&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="893102684529243">
                            <conditions>
                                <condition id="-11" name="For Each" sid="337595100150396" type="System">
                                    <param id="0" name="Object">Creep</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="4" name="Regenerate obstacle map" sid="330725620714400" type="Creep" />
                                <action id="-16" name="Wait" sid="896175554053927" type="System">
                                    <param id="0" name="Seconds">0.0</param>
                                </action>
                                <action behavior="Pathfinding" id="0" name="Find path" sid="574611206420542" type="Creep">
                                    <param id="0" name="X">Creep.CurrentDestX</param>
                                    <param id="1" name="Y">Creep.CurrentDestY</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="480893000566005">
                    <conditions>
                        <condition behavior="Pathfinding" id="0" name="On path found" sid="374462953726862" type="Creep" />
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="1" name="Move along path" sid="656870720499912" type="Creep" />
                    </actions>
                </event-block>
                <event-block sid="246912244290742">
                    <conditions>
                        <condition behavior="Pathfinding" id="1" name="On failed to find path" sid="956283407000617" type="Creep" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="902689949594461" type="Function">
                            <param id="0" name="Name">&quot;CreepPickDestination&quot;</param>
                            <param id="1" name="Parameter {n}">Creep.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="529327488119319">
                    <conditions>
                        <condition behavior="Pathfinding" id="5" name="On arrived" sid="296361919726424" type="Creep" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="531860836241043" type="Function">
                            <param id="0" name="Name">&quot;CreepPickDestination&quot;</param>
                            <param id="1" name="Parameter {n}">Creep.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="499919048594284">
                    <conditions>
                        <condition behavior="Pathfinding" id="4" name="Is moving along path" sid="476960384218845" type="Creep" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="547638861645646">
                            <conditions>
                                <condition id="-11" name="For Each" sid="194194592756513" type="System">
                                    <param id="0" name="Object">Creep</param>
                                </condition>
                                <condition id="-14" name="Pick by unique ID" sid="423732313296469" type="CreepSp">
                                    <param id="0" name="Unique ID">Creep.SpriteUID</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="868545025319280">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="519272987921580" type="System">
                                            <param id="0" name="First value">Creep.Pathfinding.MovingAngle</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">DIR_UP-25</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="499333103826383" type="System">
                                            <param id="0" name="First value">Creep.Pathfinding.MovingAngle</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">DIR_UP+25</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="562074627872559" type="CreepSp">
                                            <param id="0" name="Animation">&quot;Up&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="517737169020128">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="920355206967342" type="System">
                                            <param id="0" name="First value">Creep.Pathfinding.MovingAngle</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">DIR_RIGHT-25</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="866252347051927" type="System">
                                            <param id="0" name="First value">Creep.Pathfinding.MovingAngle</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">DIR_RIGHT+25</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="106949038834868" type="CreepSp">
                                            <param id="0" name="Animation">&quot;Right&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="348699067363507">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="536346398719611" type="System">
                                            <param id="0" name="First value">Creep.Pathfinding.MovingAngle</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">DIR_DOWN-25</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="555483122231030" type="System">
                                            <param id="0" name="First value">Creep.Pathfinding.MovingAngle</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">DIR_DOWN+25</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="855890994842398" type="CreepSp">
                                            <param id="0" name="Animation">&quot;Down&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="186571560624991">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="790583021401831" type="System">
                                            <param id="0" name="First value">Creep.Pathfinding.MovingAngle</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">DIR_LEFT-25</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="953561878836758" type="System">
                                            <param id="0" name="First value">Creep.Pathfinding.MovingAngle</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">DIR_LEFT+25</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="264913430646456" type="CreepSp">
                                            <param id="0" name="Animation">&quot;Left&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="603410108509199" title="HUD">
            <sub-events>
                <event-block sid="468248779155411">
                    <conditions>
                        <condition id="-11" name="For Each" sid="511645896038787" type="System">
                            <param id="0" name="Object">Player</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="170942949665901">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="344453335873136" type="Player">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="863733451024939" type="Health">
                                    <param id="0" name="Instance variable">ID</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Player.PlayerID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="897344275245578" type="Health">
                                    <param id="0" name="Frame number">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="671969841907034">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="659779703356727" type="Player">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="385941431346318" type="Health">
                                    <param id="0" name="Instance variable">ID</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Player.PlayerID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="941017737366890" type="Health">
                                    <param id="0" name="Frame number">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="645247082218187">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="103103666277649" type="Player">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">2</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="810232865605008" type="Health">
                                    <param id="0" name="Instance variable">ID</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Player.PlayerID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="656346246011569" type="Health">
                                    <param id="0" name="Frame number">2</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="658840473298058">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="886660939174696" type="Player">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">3</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="583105049925651" type="Health">
                                    <param id="0" name="Instance variable">ID</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Player.PlayerID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="612506780351257" type="Health">
                                    <param id="0" name="Frame number">3</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="800845428364187">
            <conditions>
                <condition id="0" name="On function" sid="608687415896012" type="Function">
                    <param id="0" name="Name">&quot;StartDeathAnimation&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="864725611858878">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="324943338302318" type="Player">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="876144427944608" type="PlayerSp">
                            <param id="0" name="Unique ID">Function.Param(1)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="509773445440082" type="Player">
                            <param id="0" name="Instance variable">Direction</param>
                            <param id="1" name="Value">IDLE</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="639630324891892" type="Player">
                            <param id="0" name="Instance variable">Listening</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="347933715820080" type="Player">
                            <param id="0" name="Instance variable">Immune</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="4" name="Set animation" sid="339243954186826" type="PlayerSp">
                            <param id="0" name="Animation">&quot;Death&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="3" name="Start" sid="860165975037298" type="PlayerSp">
                            <param id="0" name="From">0</param>
                        </action>
                        <action behavior="Flash" id="0" name="Flash" sid="174484065815773" type="PlayerSp">
                            <param id="0" name="&apos;On&apos; time">0.1</param>
                            <param id="1" name="&apos;Off&apos; time">0.1</param>
                            <param id="2" name="Duration">2.0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="511310745451557">
            <conditions>
                <condition id="0" name="On function" sid="497833539698096" type="Function">
                    <param id="0" name="Name">&quot;MoveToInitialPosition&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="146628656215000">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="168877085004027" type="Player">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="377016504524420" type="PlayerSp">
                            <param id="0" name="Unique ID">Function.Param(1)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="332749614178062" type="Player">
                            <param id="0" name="X">Player.InitialX</param>
                            <param id="1" name="Y">Player.InitialY</param>
                        </action>
                        <action id="4" name="Set animation" sid="934968351606423" type="PlayerSp">
                            <param id="0" name="Animation">&quot;Down&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action behavior="Flash" id="0" name="Flash" sid="261931633140881" type="PlayerSp">
                            <param id="0" name="&apos;On&apos; time">0.1</param>
                            <param id="1" name="&apos;Off&apos; time">0.1</param>
                            <param id="2" name="Duration">2.0</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="185403127006121" type="Player">
                            <param id="0" name="Instance variable">Immune</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
    </events>
</c2eventsheet>
